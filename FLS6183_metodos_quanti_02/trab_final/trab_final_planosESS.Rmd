---
title: "Internet e adesão democrática: análise de regressão com base nos dados do European Social Survey - onda 11 - 2020"
author: "Amanda Freitas"
date: '2022-11-29'
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(message = F, warning = F, paged.print = T)
```

```{r include=FALSE}
library(tidyverse)
library(tidylog)
library(tidyr)
library(data.table)
library(readr)
library(ggplot2)
library(readxl)
```


# EUROPEAN SOCIAL SURVEY - Análise inicial dos dados
ESS10-2020
https://ess-search.nsd.no/en/study/172ac431-2a06-41df-9dab-c1fd8f3877e7


```{r include=FALSE}
data <- read.csv("ESS/ESS10.csv")
```

```{r include=FALSE}
#head(data)

#dim(data)

ESS_data <- data %>% 
  select(-name, -essround, edition, -proddate, dweight, -pweight, - prob, -stratum)
```

# WORLD ECONOMIC DATABASE
```{r}
world_economic <- read_excel("World Economic Outlook database October 2020/WEOOct2020all.xls")
```


## Operacionalização das variáveis com os dados do ESS

### Variáveis de interesse

- uso de internet

*netustm* - Internet use, how much time on typical day, in minutes

A3 On a typical day, about how much time do you spend using the internet on a computer, tablet, smartphone or other device, whether for work or personal use?

NA Values:
6666
7777
8888
9999

- Adesão democrática

*implvdm*
How important for you to live in democratically governed country

Scale of 0 to 10
0 -  	Not at all important
10 - Extremely important

NA values
77
88
99

### Controles

- *Satisfação com a democracia*

Para operacionalizar esta variável, utilizarei a questão:

stfdem - How satisfied with the way democracy works in country 

B30 And on the whole, how satisfied are you with the way democracy works in [country]?

Scale of 0 to 10
0 - Extremely dissatisfied
10 - Extremely satisfied

NA values
77
88
99


- *Educação*

Devido as diferenças nos sistemas educacionais de cada país, ao invés de utilizar uma variável categórica que diferencie entre faixas de escolaridade (ensino fundamental, médio, superior etc), utilizarei anos completos de escolaridade:

eduyrs - Years of full-time education completed

F16 About how many years of education have you completed, whether full-time or part-time? Please report these in full-time equivalents and include compulsory years of schooling.

NA Values
77
88
99


- Sofisticação Política

Há muitas formas de operacionalizar o conceito de sofisticação política. O ESS tem um conjunto de variáveis agrupadas na categoria "understanding of democracy". Dentro dessa categoria, para o presente trabalho, será utilizada a questão que indaga os entrevistados sobre a importância de eleições livres para a democracia.


*fairelc* - National elections are free and fair 

D1-5 Using this card, please tell me how important you think it is for democracy in general... ...that national elections are free and fair?

Scale of 0 to 10
0 - not at all importante for democracya in general
10 - Extremely important for democracy in general

NA Values
77
88
99

```{r include=FALSE}
#selecting useful variables
useful_variables <- c("fairelc","eduyrs","stfdem","implvdm","netustm")

working_data <- 
  working_data %>% 
  select(useful_variables)

head(working_data)
```

```{r}
#renaming for more useful names

working_data2 <- working_data %>% 
  rename(sofisticacao_politica = fairelc,
         educacao = eduyrs,
         satisfacao_democratica = stfdem,
         adesao_democracia = implvdm,
         minutos_internet = netustm)
```


```{r include=FALSE}
#dropping NA values

na_variables <- c(77,88,99)
na_net <- c(6666, 7777, 8888, 9999)

working_data3 <- working_data2 %>% 
  filter(sofisticacao_politica != 77 & sofisticacao_politica != 88 & sofisticacao_politica != 99) %>% 
  filter(educacao != 77 & educacao != 88 & educacao != 99) %>% 
  filter(satisfacao_democratica != 77 & satisfacao_democratica != 88 & satisfacao_democratica != 99) %>% 
  filter(adesao_democracia != 77 & adesao_democracia != 88 & adesao_democracia != 99) %>% 
  filter(minutos_internet != 6666 & minutos_internet != 7777 & minutos_internet != 8888 & minutos_internet != 9999)

#dim(working_data)-dim(working_data3)
#summary(working_data3)
head(working_data3)
```


# ESTATÍSTICAS DESCRITIVAS

```{r}
working_data3 %>% 
  ggplot() +
  geom_point(aes(
    x = minutos_internet, y = adesao_democracia
  )) +
  ggtitle("Relação Adesão Democrática e Uso de Internet em Minutos")
```



# Rodando o modelo

Incluir a fórmula do modelo

Rodar o modelo

Interpretar os coeficientes do modelo

Testar heterocedasticidade e multicolineariedade


# Testes de robustez

